
# OnionShare Docker

This repository contains a Docker setup for OnionShare, allowing you to easily share files or a website over the Tor network. With this setup, you can securely and anonymously share your files, including GitHub repositories, using a Tor onion service.

## Prerequisites

Before you begin, ensure you have the following:

- **Docker** installed on your machine.
- **Git** installed on your machine.
- A **cloned GitHub repository** (in this case, the `onionshare-docker` repository).

## Setup Instructions

### 1. Clone the Repository Locally

Clone this repository to your local machine using the following command:

```bash
git clone https://github.com/dennysubke/onionshare-docker.git C:\Users\user\github-repo
```

This will create a directory called `github-repo` where your repository files will be stored.

### 2. Build the Docker Image

After cloning the repository, navigate to the directory where you cloned the repo:

```bash
cd C:\Users\user\github-repo
```

Now, build the Docker image with the following command:

```bash
docker build -t dennysubke/onionshare:2.6.1 .
```

This will build the Docker image with the tag `dennysubke/onionshare:2.6.1`.

### 3. Run the Docker Container

To run the Docker container and start OnionShare, use the following command:

```bash
docker run -d -p 9192:9192 --name onionshare-server -v C:\Users\user\github-repo:/shared dennysubke/onionshare:2.6.1 /root/.local/bin/onionshare-cli --website /shared
```

#### Explanation of the command:

- `-d`: Runs the container in detached mode (in the background).
- `-p 9192:9192`: Exposes port `9192` on the host machine and maps it to port `9192` inside the container.
- `--name onionshare-server`: Names the container `onionshare-server`.
- `-v C:\Users\user\github-repo:/shared`: Mounts the local directory where your cloned GitHub repository is stored (`C:\Users\user\github-repo`) to the `/shared` directory inside the container.
- `dennysubke/onionshare:2.6.1`: Specifies the Docker image to use (`dennysubke/onionshare:2.6.1`).
- `/root/.local/bin/onionshare-cli --website /shared`: Starts OnionShare's `onionshare-cli` in website mode, sharing the `/shared` directory.

### 4. Access the Shared Website

Once the container is running, OnionShare will generate a Tor address for the shared website. To view the address, use the following command:

```bash
docker logs onionshare-server
```

This command will display the OnionShare logs, including the Tor address where your shared website is accessible.

### 5. Share Files via Tor

Your GitHub repository or any other files within the `/shared` directory will now be accessible via the Tor network. To share these files, simply send the Tor address generated by OnionShare to your users.

## Troubleshooting

- **Docker Errors:** If you encounter issues while building or running the Docker container, ensure Docker is properly installed and running. You can check the Docker logs by running:

    ```bash
    docker logs onionshare-server
    ```

- **File Permissions:** If you cannot access the shared directory, make sure the permissions for the files and folders in your repository are correctly set.

- **Port Conflicts:** If port `9192` is already in use on your machine, you can change the exposed port by modifying the `-p` flag in the `docker run` command:

    ```bash
    docker run -d -p <new-port>:9192 --name onionshare-server -v C:\Users\user\github-repo:/shared dennysubke/onionshare:2.6.1 /root/.local/bin/onionshare-cli --website /shared
    ```

![image](https://github.com/user-attachments/assets/f821e072-f6e4-41cc-9b6a-9bbc2fe61231)


